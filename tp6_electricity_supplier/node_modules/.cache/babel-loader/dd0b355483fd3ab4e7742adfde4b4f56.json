{"remainingRequest":"D:\\phpstudy_pro\\WWW\\gitShopTP\\tp6_electricity_supplier\\node_modules\\babel-loader\\lib\\index.js!D:\\phpstudy_pro\\WWW\\gitShopTP\\tp6_electricity_supplier\\src\\router\\router.js","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\gitShopTP\\tp6_electricity_supplier\\src\\router\\router.js","mtime":1591175364659},{"path":"D:\\phpstudy_pro\\WWW\\gitShopTP\\tp6_electricity_supplier\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\gitShopTP\\tp6_electricity_supplier\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport web from \"./web\";\nVue.use(Router);\nvar router = new Router({\n  mode: 'hash',\n  routes: web\n}); //beforeEach是router的钩子函数，在进入路由前执行\n\nrouter.beforeEach(function (to, from, next) {\n  // eslint-disable-next-line no-console\n  //console.log(\"路由执行前\");\n  if (to.meta.title) {\n    //判断是否有标题\n    document.title = to.meta.title;\n  } //console.log(to.meta);\n\n\n  if (to.meta.auth === 'login') {\n    var token = localStorage.getItem(\"token\"); //console.log(\"这里是token:\" + token);\n\n    if (token === undefined || token === '' || token == null) {\n      // localStorage.setItem(\"loginUrl\", to.fullPath);\n      router.replace({\n        name: \"login\",\n        query: {\n          redirect: to.fullPath\n        }\n      }); // next({\n      //     path: '/login'\n      // })\n    }\n  }\n\n  next();\n}); //路由后执行\n\nrouter.afterEach(function (to, from) {//console.log(\"路由执行后\")\n});\nexport default router;",{"version":3,"sources":["D:\\phpstudy_pro\\WWW\\gitShopTP\\tp6_electricity_supplier\\src\\router\\router.js"],"names":["Vue","Router","web","use","router","mode","routes","beforeEach","to","from","next","meta","title","document","auth","token","localStorage","getItem","undefined","replace","name","query","redirect","fullPath","afterEach"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,GAAP;AAGAF,GAAG,CAACG,GAAJ,CAAQF,MAAR;AAEA,IAAMG,MAAM,GAAG,IAAIH,MAAJ,CAAW;AACtBI,EAAAA,IAAI,EAAE,MADgB;AAEtBC,EAAAA,MAAM,EAAEJ;AAFc,CAAX,CAAf,C,CAKA;;AACAE,MAAM,CAACG,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC;AACA;AACA,MAAIF,EAAE,CAACG,IAAH,CAAQC,KAAZ,EAAmB;AAAC;AAChBC,IAAAA,QAAQ,CAACD,KAAT,GAAiBJ,EAAE,CAACG,IAAH,CAAQC,KAAzB;AACH,GALiC,CAMlC;;;AACA,MAAIJ,EAAE,CAACG,IAAH,CAAQG,IAAR,KAAiB,OAArB,EAA8B;AAC1B,QAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ,CAD0B,CAE1B;;AACA,QAAIF,KAAK,KAAKG,SAAV,IAAuBH,KAAK,KAAK,EAAjC,IAAuCA,KAAK,IAAI,IAApD,EAA0D;AACtD;AACAX,MAAAA,MAAM,CAACe,OAAP,CAAe;AACXC,QAAAA,IAAI,EAAE,OADK;AAEXC,QAAAA,KAAK,EAAE;AAACC,UAAAA,QAAQ,EAAEd,EAAE,CAACe;AAAd;AAFI,OAAf,EAFsD,CAMtD;AACA;AACA;AACH;AACJ;;AACDb,EAAAA,IAAI;AACP,CAtBD,E,CAuBA;;AACAN,MAAM,CAACoB,SAAP,CAAiB,UAAChB,EAAD,EAAKC,IAAL,EAAc,CAC3B;AACH,CAFD;AAIA,eAAeL,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport web from './web'\n\n\nVue.use(Router);\n\nconst router = new Router({\n    mode: 'hash',\n    routes: web\n});\n\n//beforeEach是router的钩子函数，在进入路由前执行\nrouter.beforeEach((to, from, next) => {\n    // eslint-disable-next-line no-console\n    //console.log(\"路由执行前\");\n    if (to.meta.title) {//判断是否有标题\n        document.title = to.meta.title\n    }\n    //console.log(to.meta);\n    if (to.meta.auth === 'login') {\n        let token = localStorage.getItem(\"token\");\n        //console.log(\"这里是token:\" + token);\n        if (token === undefined || token === '' || token == null) {\n            // localStorage.setItem(\"loginUrl\", to.fullPath);\n            router.replace({\n                name: \"login\",\n                query: {redirect: to.fullPath}\n            })\n            // next({\n            //     path: '/login'\n            // })\n        }\n    }\n    next();\n});\n//路由后执行\nrouter.afterEach((to, from) => {\n    //console.log(\"路由执行后\")\n});\n\nexport default router\n"]}]}